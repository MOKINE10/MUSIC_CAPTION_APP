<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Caption App</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <header>
        <h1>Music Caption App</h1>
    </header>
    <main>
        <input type="file" id="fileInput" accept="audio/mp3">
        <audio id="audioPlayer" controls></audio>
        <div id="mainContent">
            <div class="left-container">
                <div class="button-container">
                    <button onclick="setPlaybackRate(1)">1x</button>
                    <button onclick="setPlaybackRate(1.5)">1.5x</button>
                    <button onclick="setPlaybackRate(2)">2x</button>
                    <button onclick="rewind()">-5s</button>
                    <button class="delete-mp3-button" onclick="deleteMp3()">Delete MP3</button>
                    <button onclick="downloadSRT()">Download SRT</button>
                </div>
                <textarea id="captionInput" rows="10" placeholder="Paste your captions here..."></textarea>
                <button class="save-button" onclick="saveCaptions()">Save Captions</button>
                <div id="previewWindow"></div>
                <button id="previewButton" class="preview-off" onclick="togglePreview()">Preview OFF</button>
                <textarea id="srtText" rows="10" placeholder="SRT content will appear here..." readonly></textarea>
            </div>
            <div class="right-container">
                <div class="timestamp-undo-container">
                    <button class="add-timestamp-button" onclick="addTimestamp()">Add Timestamp</button>
                    <button class="undo-button" onclick="undoTimestamp()">Undo</button>
                </div>
                <table id="captionTable" border="1">
                    <colgroup>
                        <col style="width: 12%">
                        <col style="width: 88%">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Text</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </main>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
